# fly.toml app configuration file generated for nanobot-iypn7w on 2026-02-12T07:50:38Z
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#
# To sync local config to Fly (replaces workspace path for the volume mount):
#   fly secrets set NANOBOT_CONFIG_JSON="$(sed 's|~/projects/cos-bot/workspace|/data/workspace|' ~/.nanobot/config.json)"
#

app = 'nanobot-iypn7w'
primary_region = 'sjc'

[build]

# No [http_service] â€” nanobot gateway doesn't serve HTTP.
# It connects outbound to channels (Slack socket mode, Telegram, etc.)
# The Dockerfile ENTRYPOINT + CMD handles startup: entrypoint.sh writes
# config from NANOBOT_CONFIG_JSON secret, then runs `nanobot gateway`.

[[vm]]
  memory = '1gb'
  cpu_kind = 'shared'
  cpus = 1

[mounts]
  source = "workspace"
  destination = "/data"
  snapshot_retention = 14
